---
import Layout from '../../layouts/Layout.astro';
import { translations } from '../../i18n';
import Hero from '../../components/Hero.astro';
import SectionWithTitle from '../../components/about-us/SectionWithTitle.astro';
import ApproachSection from '../../components/about-us/ApproachSection.astro';
import ValueCards from '../../components/about-us/ValueCards.astro';
import MissionSection from '../../components/about-us/MissionSection.astro';
import CTASection from '../../components/about-us/CTASection.astro';

const { lang } = Astro.params;
const currentLang = (lang || 'en') as 'en' | 'zh';
const currentPath = Astro.url.pathname;
const t = translations[currentLang];
const pageTitle = t.pageTitle.aboutUs;
const pageMeta = t.pageMeta.aboutUs;
const content = t.aboutUs;

const approachItems = [
  content.ourApproach.audit,
  content.ourApproach.strategy,
  content.ourApproach.management,
];

const whyChooseItems = [
  {
    icon: 'M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z',
    title: content.whyChooseUs.expertise,
  },
  {
    icon: 'M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z',
    title: content.whyChooseUs.transparency,
  },
  {
    icon: 'M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z',
    title: content.whyChooseUs.personalized,
  },
  {
    icon: 'M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z',
    title: content.whyChooseUs.results,
  },
];

export function getStaticPaths() {
  return [
    { params: { lang: 'en' } },
    { params: { lang: 'zh' } },
  ];
}
---

<Layout title={pageTitle} description={pageMeta.description} keywords={pageMeta.keywords} lang={currentLang} currentLang={currentLang} currentPath={currentPath}>
  <main class="min-h-screen">
    <Hero
      title={content.hero.title}
      description={content.hero.description}
      image="/assets/why_choose_us.png"
    />

    <SectionWithTitle title={content.ourStory.title}>
      <p class="text-lg text-gray-700 leading-relaxed text-center max-w-3xl mx-auto">
        {content.ourStory.description}
      </p>
    </SectionWithTitle>

    <ApproachSection
      title={content.ourApproach.title}
      description={content.ourApproach.description}
      items={approachItems}
      note={content.ourApproach.note}
    />

    <ValueCards
      title={content.whyChooseUs.title}
      items={whyChooseItems}
    />

    <MissionSection
      title={content.ourMission.title}
      description={content.ourMission.description}
    />

    <CTASection
      title={content.ready.title}
      description={content.ready.description}
      buttonText={content.ready.button}
    />
  </main>
</Layout>

<style>
  main {
    width: 100%;
  }
</style>
